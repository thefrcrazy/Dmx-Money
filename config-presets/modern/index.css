@import "tailwindcss";

/* Flatpickr for compatibility support */
@import "flatpickr/dist/flatpickr.min.css";

/* Custom Flatpickr Dark Mode Support */
.flatpickr-calendar.dark {
    background: #121212 !important;
    border: 1px solid #262626 !important;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.5) !important;
    color: #fff !important;
}

.flatpickr-calendar.dark .flatpickr-day {
    color: rgba(255, 255, 255, 0.9) !important;
}

.flatpickr-calendar.dark .flatpickr-day.nextMonthDay,
.flatpickr-calendar.dark .flatpickr-day.prevMonthDay {
    color: rgba(255, 255, 255, 0.3) !important;
}

.flatpickr-calendar.dark .flatpickr-day:hover {
    background: #262626 !important;
}

.flatpickr-calendar.dark .flatpickr-day.selected {
    background: var(--color-primary) !important;
    border-color: var(--color-primary) !important;
    color: #fff !important;
}

.flatpickr-calendar.dark .flatpickr-months .flatpickr-month,
.flatpickr-calendar.dark .flatpickr-months .flatpickr-prev-month,
.flatpickr-calendar.dark .flatpickr-months .flatpickr-next-month {
    color: #fff !important;
    fill: #fff !important;
}

.flatpickr-calendar.dark .flatpickr-current-month .flatpickr-monthDropdown-months {
    background: #121212 !important;
}

.flatpickr-calendar.dark span.flatpickr-weekday {
    color: rgba(255, 255, 255, 0.5) !important;
}

.flatpickr-calendar.dark .numInputWrapper span.arrowUp:after {
    border-bottom-color: #fff !important;
}

.flatpickr-calendar.dark .numInputWrapper span.arrowDown:after {
    border-top-color: #fff !important;
}

@theme {
  --color-primary: var(--color-primary-custom);
  --color-primary-rgb: var(--color-primary-rgb-custom);
  
  --color-primary-50: color-mix(in srgb, var(--color-primary-custom), white 95%);
  --color-primary-100: color-mix(in srgb, var(--color-primary-custom), white 90%);
  --color-primary-200: color-mix(in srgb, var(--color-primary-custom), white 80%);
  --color-primary-300: color-mix(in srgb, var(--color-primary-custom), white 70%);
  --color-primary-400: color-mix(in srgb, var(--color-primary-custom), white 50%);
  --color-primary-500: var(--color-primary-custom);
  --color-primary-600: color-mix(in srgb, var(--color-primary-custom), black 10%);
  --color-primary-700: color-mix(in srgb, var(--color-primary-custom), black 30%);
  --color-primary-800: color-mix(in srgb, var(--color-primary-custom), black 50%);
  --color-primary-900: color-mix(in srgb, var(--color-primary-custom), black 70%);
  --color-primary-950: color-mix(in srgb, var(--color-primary-custom), black 85%);

  --color-bg-primary: var(--color-bg-primary);
  --color-bg-secondary: var(--color-bg-secondary);
  --color-text-primary: var(--color-text-primary);
  --color-text-secondary: var(--color-text-secondary);
  --color-border: var(--color-border);
  
  --font-sans: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
  --font-serif: "New York", "Times New Roman", serif;
  --font-mono: "SF Mono", "Menlo", "Monaco", "Courier New", monospace;
  
  --card-radius: 12px;
}

:root {
    --color-primary-custom: #007AFF;
    --color-primary-rgb-custom: 0, 122, 255;
    
    --color-bg-primary: #FFFFFF;
    --color-bg-secondary: #F5F5F7;
    --color-text-primary: #000000;
    --color-text-secondary: #86868B;
    --color-border: rgba(0, 0, 0, 0.05);
}

/* On utilise une variable differente pour eviter la recursion infinie dans @theme */
:root {
    --color-primary: var(--color-primary-custom);
}

@custom-variant dark (&:where(.dark, .dark *));

.dark {
    --color-primary-custom: #3b82f6;
    --color-primary-rgb-custom: 59, 130, 246;
    --color-bg-primary: #000000;
    --color-bg-secondary: #000000;
    --color-text-primary: #ffffff;
    --color-text-secondary: #a1a1aa;
    --color-border: rgba(255, 255, 255, 0.1);
}

/* Base Styles */
* {
  @apply outline-none!;
}

body {
  background-color: var(--color-bg-secondary);
  color: var(--color-text-primary);
  -webkit-font-smoothing: antialiased;
  font-feature-settings: "tnum";
  font-variant-numeric: tabular-nums;
  transition: background-color 0.1s ease, color 0.1s ease;
}

/* Custom View Transitions animation duration */
::view-transition-old(root),
::view-transition-new(root) {
  animation-duration: 0.15s;
}

/* Components */
.app-card {
  background: var(--color-bg-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--card-radius);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.dark .app-card {
  background: #121212;
  border: 1px solid var(--color-border);
}

.app-input {
  width: 100%;
  padding: 0.5rem;
  border-radius: 8px;
  border: 1px solid var(--color-border);
  background: var(--color-bg-primary);
  color: var(--color-text-primary);
}

.dark .app-input {
  background: #121212;
  border: 1px solid var(--color-border);
}

.app-selector-bg {
  background-color: var(--color-bg-primary) !important;
  border: 1px solid var(--color-border);
  border-radius: var(--card-radius);
  overflow: hidden;
}

.dark .app-selector-bg {
  background-color: #121212 !important;
  border: 1px solid var(--color-border);
}

.dark .select-header {
  background-color: #121212 !important;
}

.app-icon-button {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0.5rem;
  border-radius: 0.5rem;
  border: 1px solid var(--color-border);
  background: rgba(0, 0, 0, 0.02);
  color: #374151; /* gray-700 */
  transition: all 0.2s;
}

.dark .app-icon-button {
  background: rgba(255, 255, 255, 0.05);
  color: #d1d5db; /* gray-300 */
}

.app-icon-button:hover {
  background: rgba(0, 0, 0, 0.05);
  color: #111827; /* gray-900 */
}

.dark .app-icon-button:hover {
  background: rgba(255, 255, 255, 0.1);
  color: #f3f4f6; /* gray-100 */
}

.app-icon-button.selected {
  background: var(--color-primary);
  color: white;
  border-color: var(--color-primary);
}

/* Utilities */
/* Scrollbars */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-thumb { background: rgba(0, 0, 0, 0.1); border-radius: 10px; }
.dark ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.1); }

[data-tauri-drag-region] { -webkit-app-region: drag; }
button, a, input, [role="button"] { -webkit-app-region: no-drag; }